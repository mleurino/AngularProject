<h1>Registro</h1>
<form [formGroup]="registerForm" (ngSubmit)="onSubmit()" class="row">
  <div class="col-12">
    <mat-form-field class="w-100">
      <mat-label>Nombre</mat-label>
      <input formControlName="nombre" matInput />
      <mat-error *ngIf="registerForm.get('nombre')?.hasError('required')">
        El nombre es obligatorio
      </mat-error>
      <mat-error *ngIf="registerForm.get('nombre')?.hasError('minlength')">
        El nombre debe tener al menos 3 caracteres
      </mat-error>
    </mat-form-field>
  </div>
  <div class="col-12">
    <mat-form-field class="w-100">
      <mat-label>Apellido</mat-label>
      <input formControlName="apellido" matInput />
      <mat-error *ngIf="registerForm.get('apellido')?.hasError('required')">
        El apellido es obligatorio
      </mat-error>
      <mat-error *ngIf="registerForm.get('apellido')?.hasError('minlength')">
        El apellido debe tener al menos 3 caracteres
      </mat-error>
    </mat-form-field>
  </div>
  <div class="col-12">
    <mat-form-field class="w-100">
      <mat-label>Correo electrónico</mat-label>
      <input formControlName="email" matInput />
      <mat-error *ngIf="registerForm.get('email')?.hasError('required')">
        El correo es obligatorio
      </mat-error>
      <mat-error *ngIf="registerForm.get('email')?.hasError('email')">
        Debes ingresar un correo válido
      </mat-error>
    </mat-form-field>
  </div>

  <div class="col-12">
    <mat-form-field class="w-100">
      <mat-label>Contraseña</mat-label>
      <input formControlName="password" [type]="passwordInputType" matInput />
      <button
        type="button"
        matSuffix
        mat-icon-button
        (click)="togglePasswordInputType()"
      >
        <mat-icon>{{ passwordInputType === 'password' ? 'visibility' : 'visibility_off' }}</mat-icon>
      </button>
      <mat-error *ngIf="registerForm.get('password')?.hasError('required')">
        La contraseña es obligatoria
      </mat-error>
      <mat-error *ngIf="registerForm.get('password')?.hasError('minlength')">
        La contraseña debe tener al menos 6 caracteres
      </mat-error>
    </mat-form-field>
  </div>

  <div class="col-12">
    <mat-form-field class="w-100">
      <mat-label>Confirmar contraseña</mat-label>
      <input formControlName="confirmPassword" [type]="passwordInputType" matInput />
      <mat-error *ngIf="registerForm.get('confirmPassword')?.hasError('required')">
        Debes confirmar tu contraseña
      </mat-error>
      <mat-error *ngIf="registerForm.hasError('mismatch')">
        Las contraseñas no coinciden
      </mat-error>
    </mat-form-field>
  </div>

  <div class="col-12">
    <button type="submit" class="w-100" mat-flat-button color="primary">
      Registrarse
    </button>
  </div>
</form>
